## 负载均衡
### scene2.py用于建立实验拓扑
输入命令
`
sudo mn --custom scene2.py --topo mytopo --controller=remote,ip=127.0.0.1,port=6653 --switch ovsk,protocols=OpenFlow13
`
### 建立拓扑后运行control.py，实现负载均衡
输入命令
`
python sdn.py
`
## 实验场景

![](http://images2017.cnblogs.com/blog/1169307/201801/1169307-20180126133211147-1968611444.png)

服务器h2 ,h3,h4上各自有不同的服务，h1是客户端。实现一个负载均衡的北向程序，当h2,h1,h3向h1传输数据时，
北向应用根据链路的使用状况动态的调整路由规则。例如:s1-s4链路带宽充足情况下应默认s4-s1的传输路径，当剩
余带宽不足的情况下应动态调整路由，使链路负载达到平衡。

## 代码思路
### 建拓扑比较固定，不加以说明
### 负载均衡的思路
场景的要求是实现h2,h3,h4到h1的负载均衡，思路是h2,h3,h4默认走s4的1口出，如果s4的1口流量超过一定阈值得时候，
启用s2口和s3口进行负载的均衡，具体实现策略可通过更改流表的优先级来实现，分别发送一条从s4的2口和3口出的流表，
并赋给其大的优先级，实现分流；当流量恢复到阈值以下时重新启用1口进行转发。